{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} | Détails de la sortie {% endblock %}

{% block body %}
<div class="w-full flex justify-between mx-auto">
    <div class="max-w-lg w-3/6 p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">

        <svg class="w-[48px] h-[48px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M4.37 7.657c2.063.528 2.396 2.806 3.202 3.87 1.07 1.413 2.075 1.228 3.192 2.644 1.805 2.289 1.312 5.705 1.312 6.705M20 15h-1a4 4 0 0 0-4 4v1M8.587 3.992c0 .822.112 1.886 1.515 2.58 1.402.693 2.918.351 2.918 2.334 0 .276 0 2.008 1.972 2.008 2.026.031 2.026-1.678 2.026-2.008 0-.65.527-.9 1.177-.9H20M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
        </svg>


        <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ event.name }}</h5>
        <p class="mb-3 font-normal text-gray-500 dark:text-gray-400">{{ event.description }}</p>
        {% set duree = date(event.endAt).diff(date(event.startAt)) %}
        {# todo: format personnalisé (voir extension twig personnalisée #}
        <p class="mb-3 font-normal">du {{ event.startAt | date('d-m-Y à H:i') }} au {{ event.endAt | date('d-m-Y à H:i') }} ({{ duree | date }})</p>
        <p class="mb-3 font-normal">S'inscrire avant le {{ event.inscriptionLimitAt | date('d-m-Y à H:i') }}</p>
        <p class="mb-3 font-normal">? inscrits / {{ event.maxParticipant }} places disponibles</p>

    </div>

    <div class="max-w-lg w-3/6 p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">

        <svg class="w-[48px] h-[48px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M3 21h18M4 18h16M6 10v8m4-8v8m4-8v8m4-8v8M4 9.5v-.955a1 1 0 0 1 .458-.84l7-4.52a1 1 0 0 1 1.084 0l7 4.52a1 1 0 0 1 .458.84V9.5a.5.5 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5Z"/>
        </svg>

        <h5 class="mb-2 text-lg font-medium tracking-tight text-gray-900 dark:text-white">{{ event.location.name }}</h5>
        <p class="mb-3 font-normal text-gray-500 dark:text-gray-400">{{ event.location.streetNumber ?: ''}} {{ event.location.street }}, {{ event.location.cp }} {{ event.location.city }}</p>
        <p class="mb-3 font-normal">Site de {{ event.site.name }}</p>
        <p class="mb-3 font-normal">Latitude: {{ event.location.latitude }}</p>
        <p class="mb-3 font-normal">Longitude: {{ event.location.longitude }}</p>
        {# todo: map #}

    </div>
</div>
    <div>
        <h3>Liste des participants inscrits :</h3>
        <table>
            <thead>
            <tr>
                <th>Pseudo</th>
                <th>Nom</th>
            </tr>
            </thead>
            <tbody>
            {% for participant in event.participants %}
                <tr>
                    <th>{{ participant.pseudo }}</th>
                    <th>{{ participant.name }}</th>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock %}
